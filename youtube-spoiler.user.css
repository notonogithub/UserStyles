/* ==UserStyle==
@name           Youtube - Spoiler videos with keywords
@version        1.0.0
@description    Censor videos while browsing
@updateURL      https://codeberg.org/Freeplay/UserStyles/raw/branch/main/youtube-spoiler.user.css
@preprocessor   stylus

 -- AUTHOR STUFF --
@namespace      Freeplay
@author         Freeplay (https://freeplay.codeberg.page/)
@homepageURL    https://codeberg.org/Freeplay/UserStyles
@supportURL     https://codeberg.org/Freeplay/UserStyles/issues

@var text keywords "Keywords" "Enter words here"
==/UserStyle== */

@-moz-document domain("youtube.com") {
    /* Insert code here... */
ytd-grid-video-renderer {
	overflow hidden
	#details {
		position relative
		z-index 2
	}
	#meta {
		overflow visible !important
	}
	#video-title-link, #video-title {
		for row in keywords {

			&[aria-label*={row}] {
				// filter blur(10px)
				overflow visible !important
				z-index 2
				position relative
				font-size 0 !important
				&::after {
					content ""
					position absolute
					inset -200px
					bottom calc(100% + 8px)

					background-color black
					color white
				}
				&::before {
					content "Spoilered, hover to view"
					font-size 1.4rem
				}
			}
		}
	}
	&:hover {
		#video-title-link, #video-title {
			font-size 1.2em !important
			transition all 0s 1s
			&::before, &::after {
				font-size 0
				opacity 0
				transition all 0s 1s
			}
		}
	}
}
	
	
	
	
}