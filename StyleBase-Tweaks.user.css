/* ==UserStyle==
@name           StyleBase Tweaks with Custom Colors
@version        1.0.2.1
@description    All Togglable: Dark Mode, 16:9 Thumbnails, Better Cards & Header, Full-Width etc.
@updateURL      https://codeberg.org/Freeplay/UserStyles/raw/branch/main/StyleBase-Tweaks
@preprocessor   stylus

 -- AUTHOR STUFF --
@namespace      Freeplay
@author         Freeplay (https://freeplay.codeberg.page/)
@homepageURL    https://codeberg.org/Freeplay/UserStyles
@supportURL     https://codeberg.org/Freeplay/UserStyles/issues

@var checkbox hideFeatures "Hide Feature Cards" 1
@var checkbox fixedSearch "Fixed Searchbar" 1
@var checkbox stickyHeader "Stick Header Section to Top" 1
@var checkbox styleCards "Better Cards" 1
@var checkbox dropdownFooter "Make footer a dropdown in header" 1
@var checkbox noMaxWidth "Full-Width" 0

@var color bgColor "Color Scheme" #faf6f0
@var color colorText "Color Text" #47525e 
@var color colorTheme "Color Theme" #d6835c


==/UserStyle== */

@-moz-document domain("stylebase.cc") {
	
	:root {
		if darkMode {
			--color-bg: bgColor;
			--color-text: colorText;
			--color-border: var(--color-main-dark);
			--color-main: colorTheme;
			--color-main-lightest: var(--color-bg);
		}
	}
	
	.Home > .container {
		position: relative;
	}
	
	input {
		background-color: var(--color-bg);
		color: var(--color-text);
	}
	
	
	if noMaxWidth {
		.Home > .container {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
		}
		.Home > .container > .main-container {
			min-width: calc(100vw - 60px);
		}
	}
	
	/*** HEADER ***/
	header .container {
		padding-top: .5rem !important;
		padding-bottom: .5rem !important;
		height: 35px;
	}
	header {
		background-color: transparent !important;
	}
	header::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: var(--color-bg) !important;
		filter: opacity(.9) brightness(1.4);
		backdrop-filter: blur(10px);
		box-shadow: 0 0px 10px rgba(0,0,0,0.1);
	}
	
	header nav {
		background-color: transparent !important;
	}
	
	/*** FEATURE CARDS ***/
	if hideFeatures {
		.features {
			display: none !important;
		}
		.Home {
			margin-top: 2rem;
		}
	}
	.feature-item {
		background-color: var(--color-bg);
	}
	
	/*** SEARCH BAR ***/
	if fixedSearch {
		@media only screen and (min-width: 992px) { 
			.search-container {
				position: absolute !important;
				width: calc(100% - 25px);
				margin-top: -900px !important;
				pointer-events: none;
			}
			#search {
				position: fixed !important;
				top: 0;
				z-index: 13;
				margin-left: 150px;
				width: 250px;
				height: 49px;
				border-radius: 0;
				pointer-events: all;
				border: none;
				background-color: transparent !important;
				font-weight: 800;
				transition: margin .2s, width .2s, max-width .2s, background-color .35s;
			}
			#search:focus {
				margin-left: 0;
				width: 1305px;
				max-width: calc(100vw - 170px);
				background-color: var(--color-bg) !important;
			}
		}
	}
	
	/*** SECTION HEADER ***/
	if stickyHeader {
		@media only screen and (min-width: 768px) { 
			.main-container > .section-header {
				position: sticky;
				top: 48px !important;
				z-index: 5;
			}
			.main-container > .section-header .title,
			.main-container > .section-header .sort-options {
				padding: 6px 16px;
				position: relative;
				height: 24px;
				align-items: center;
			}
			.main-container > .section-header .title span {
				margin-right: 16px;
			}
			.main-container > .section-header .title::before,
			.main-container > .section-header .sort-options::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background-color: var(--color-bg) !important;
				border-bottom-left-radius: 20px;
				border-bottom-right-radius: 20px;
				filter: opacity(.8);
				backdrop-filter: blur(10px);
				z-index: -1;
			}
		}
	}
	
	.second-line, .first-line {
		background-color: var(--color-main-darkest) !important;
	}
	.close-button:hover .second-line, .close-button:hover .first-line {
		background-color: var(--color-main) !important;
	}
	
	/*** STYLE DETAILS POPUP ***/
	.base-dialog[data-v-13fdc2e2] {
		z-index: 14;
		backdrop-filter: blur(4px);
	}
	
	
	/*** STYLE ITEM ***/
	if darkMode {
		.data {
			background-color: var(--color-bg) !important;
		}
	}
	if styleCards {
		.style-card {
			box-shadow: none !important;
			border: none !important;
			overflow: visible !important;
		}
		.style-card:hover {
			transform: translatey(-1px) !important;
		}
		.style-card:active {
			transform: none !important;
		}
		.image-container {
			padding-top: 56.25% !important;
			height: auto !important;
			overflow: hidden;
			border-radius: 8px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.1);
			transition: box-shadow .5s, transform .2s;
			background-color: var(--color-bg) !important;
		}
		.style-card:hover .image-container {
			box-shadow: 0 2px 10px rgba(0,0,0,0.1);
			transform: scale(1.02);
		}
		.style-card:active .image-container {
			transform: none !important;
		}
		.image-container img {
			position: absolute !important;
			top: 0 !important;
			left: 0 !important;
			right: 0 !important;
			bottom: 0 !important;
			min-height: 100%;
			max-height: 100%;
			object-fit: cover;
			border-radius: 8px;
			transition: transform .7s !important;
		}
		.style-card:hover .image-container img {
			transform: scale(1.02);
		}
		.style-card .data {	
			background: none !important;
			padding: 0;
			padding-top: 8px;
			height: auto !important;
		}
		.style-card .data .footer {
			margin-top: 0;
		}
	}	
	/*** FOOTER ***/
	if dropdownFooter {
		@media only screen and (min-width: 768px) { 
			footer {
				top: 0;
				bottom: unset;
				width: 100%;
				background: none;
				height: 0;
				z-index: 12;
			}
			footer .container {
				display: flex;
				justify-content: flex-end;
				height: 0;
				position: relative;
				z-index: 12;
			}
			footer .container::before {
				content: "v";
				font-size: 18px;
				font-weight: 400;
				position: absolute;
				right: 0;
				padding-top: .5rem;
				padding-left: 1.5rem;
				padding-right: 1.5rem;
				height: 50px;
				margin-right: 15px;
			}
			footer .container .link-list {
				position: relative;
				flex-direction: column;
				width: 150px !important;
				height: max-content !important;
				padding: 10px;
				margin-top: 45px;
				background-color: var(--color-main-lightest);
				box-shadow: 0 2px 10px rgba(0,0,0,0.2);
				text-align: right;
				filter: opacity(0);
				max-height: 0 !important;
				pointer-events: none !important;
			}
			footer .container .link-list::before {
				content: "";
				position: absolute;
				right: 0px;
				top: -60px;
				width: 50px;
				height: 60px;
				pointer-events: all !important;
			}
			footer .container .link-list:hover, footer .container .link-list:focus {
				filter: opacity(1);
				max-height: none !important;
				pointer-events: all !important;
			}

			header nav {
				margin-right: 58px;
			}
		}
	}
	
	
}